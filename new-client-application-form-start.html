<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <title>Independent Drivers Consortium - New Application Sign Up Start</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="inc/jq/themes/theme-02.min.css" />
    <link rel="stylesheet" href="inc/jq/themes/jquery.mobile.icons.min.css" />
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css" />
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script>
	$(function(){
		$( "[data-role='header'], [data-role='footer']" ).toolbar();
		});
    </script>
    <script src="inc/jq/validate/dist/jquery.validate.js"></script>
    <link href="mob.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
<div data-role="header" data-position="fixed" data-theme="a">
      <div class="box1" center1>
    <div class="box1 center1 boxblue" > <a href="index.html" rel="external"><img src="pics/appbanner-320x60-home1.png" width="320" height="61" class="center" alt=""></a> </div>
  </div>
      <!--<h1>Page head Title</h1> --> 
    </div>
<!-- /header -->

<section id="page1" data-role="page">
      <div role="main" class="ui-content">
    <div class="content" >
          <div class="box1 center1" > 
        
        <!--INSERT START -->
        
        <div class="box1 center1" > 
              <script>
//CLEAR ALL LOCAL STORAGE
//start fresh especially for norton office
localStorage.clear();
</script>
   <br>
          
<!--				  <span class="print_data_18">Independent Drivers Consortium.com</span><br>-->
             <strong>New Driver Application Form<br>
			<span class="print_data_12">YOU NEED  A STRONG INTERNET CONNECTION!</span></strong>
		
<!--		 <p> 	</p>-->


			
			<span class="print_data_20">
				
				<table width="315" border="0" align="center">
  <tbody>
	  
	  
	  
	  <tr>
      <td align="center"><strong> <span class="print_data_12">Already a client?</span> </strong> </td>
      <td> </td>
    </tr> 
	  
	  
    <tr>
      <td><strong> <a rel="external" class="buttonlink7drk" href="login.html"> Click to Login</a> </strong> </td>
      <td><a rel="external" class="buttonlink2" href="index.html">Back</a> </td>
    </tr>
  </tbody>
</table>
				
				
				
          </span> <br>
              

			
			<span class="blue1 print_data_22_b2"><strong> 
              <!-- where the response will be displayed -->
              <div id="response"></div>
              </strong></span>
			
              <span class="print_data_20">
				  
				  
				  Type in the code number of who will receive your test results given by your contractor and the following fields.<br>

				  
				  
				  
				  
<!--				  Type in code number of who will receive your test result and complete the following fields...<br>-->
				  
				  
          </span>
<!--			(you can add more contractors later)<br>-->
              <br>
<!--              <strong>PRICE: $99.00</strong>-->
              <form action="" method="get" name="myform" id="myform" >
            <div align="center">
                  <table border="0" cellspacing="0" cellpadding="0">
                <tr>
                      <td align="right" valign="middle"></td>
                      <td>
						
Problem:  Call your contractor or call IDCapp  at 800-243-7669 to get your code number.  

<!--
				Call your company 
                    or Call 800.243.7669 (9am to 6pm EST) 
-->
						  
						  <br>
                    <br></td>
                    </tr>
                <tr>
                      <td align="right" valign="middle">
					<label for="conum"><span class="red2">*</span>Code<br>
Number: </label>
					</td>
                      <td><div data-role="ui-field-contain"></div>
                    
                    <input name="conum" type="text" id="conum" class="print_data_20" value="" required minlength="3"  /></td>
                    </tr>
                <tr>
                      <td align="right" valign="middle"><label class="label_16g" for="firstname"><span class="red2">*</span> First Name:</label> </td>
                      <td><div data-role="ui-field-contain">
                          
                          <input name="firstname" id="firstname" type="text" class="print_data_20" value="" size="15" maxlength="15" required minlength="1" />
                        </div></td>
                    </tr>
                <tr>
                      <td align="right" valign="middle"><label class="label_16g" for="lastname"><span class="red2">*</span> Last Name:</label> </td>
                      <td><div data-role="ui-field-contain">
                          
                          <input name="lastname" type="text" class="print_data_20" value="" size="15" maxlength="15" required minlength="2" />
                        </div></td>
                    </tr>
                <tr>
                      <td align="right" valign="middle">         <label class="label_16g" for="cellphone"><span class="red2">*</span> Cell<br>
Phone: </label> </td>
                      <td><div data-role="ui-field-contain">
                 
                          <input name="cellphone" type="text" class="print_data_20" value="" size="15" maxlength="15" required />
                        </div></td>
                    </tr>
                <tr>
                      <td align="right" valign="middle"><label class="label_16g" for="driverslicense"><span class="red2">*</span> Driver's<br>
License: </label> </td>
                      <td><div data-role="ui-field-contain"></div>
                    
                    <input name="driverslicense" type="text" class="print_data_20" value="" size="15" maxlength="15" required /></td>
                    </tr>
              </table>
                </div>
            <div align="center">
                  <input data-role="submit" type="submit" value=" - Continue - ">
                  <input type="hidden" name="trylogin" value= "true" >
                </div>
          </form>
              <script>

$( "#page1" ).on( "pageinit", function() {
	$( "form" ).validate({
		rules: {
			email: {
				required: true
			},
			password: {
				required: true
			}
		},
		errorPlacement: function( error, element ) {
			error.insertBefore( element.parent() );
		},
		
		
		// submitHandler here if valid
		
		submitHandler: function(form) {
        //code that should happen after validation if no errors are found goes here
        
// old 1st line 
//function testResults (form) {

$('#response').html("<b>Searching IDC...</b>");
	
var conum  = form.conum.value;
var firstname  = form.firstname.value;
var lastname  = form.lastname.value;
var cellphone  = form.cellphone.value;
var driverslicense  = form.driverslicense.value;

//php oddity if error {"type of company number":{"checker":"foundzero"}} fix soon

$.get("https://idcapp.com/app-data/new-client-application-form-cart1.php?conum="+conum, function(data, status){	

// alert("Data: " + data + "\nStatus: " + status);
console.log ('data', data);
output = "";

if (data == "foundzero"){	
$('#response').html("<b>*Could Not Find Company Number*. Try Again</b>");

//alert("nono");		
}else{
//alert("yoyoyyo");
$('#response').html("<b>Success...</b>");	

//success here now loop

$.each(data, function(key, value) {
console. log ('item', key, value);

localStorage.setItem("done1", "YO221");

localStorage.setItem("type_of_company_number", value.type_of_company_number);
localStorage.setItem("CommonName", value.CommonName);
localStorage.setItem("cl_toc_cert_desc_new", value.cl_toc_cert_desc_new);
localStorage.setItem("cl_toc_cert_desc_renew", value.cl_toc_cert_desc_renew);
localStorage.setItem("cl_toc_cert_fee_signup", value.cl_toc_cert_fee_signup);
localStorage.setItem("cl_toc_cert_fee_renewal", value.cl_toc_cert_fee_renewal);


localStorage.setItem("toc_mship_Company", value.toc_mship_Company);
localStorage.setItem("toc_mship_contact_full_c", value.toc_mship_contact_full_c);
localStorage.setItem("toc_mship_Contact_First", value.toc_mship_Contact_First);
localStorage.setItem("toc_mship_Contact_Last", value.toc_mship_Contact_Last);

localStorage.setItem("toc_mship_Address", value.toc_mship_Address);
localStorage.setItem("toc_mship_City", value.toc_mship_City);
localStorage.setItem("toc_mship_State", value.toc_mship_State);
localStorage.setItem("toc_mship_Zip", value.toc_mship_Zip);

localStorage.setItem("toc_mship_Phone1", value.toc_mship_Phone1);
	
localStorage.setItem("cl_toc_annual_only", value.cl_toc_annual_only);	
localStorage.setItem("cl_toc_AgencyName", value.cl_toc_AgencyName);	
localStorage.setItem("cl_toc_PayType", value.cl_toc_PayType);	

// fix this - get ms data
//
//localStorage.setItem("ms", "Contracting Company: Big Transit Taxi Company<br>Contracting Company Representative: Scott Mason<br>1211 Main Street<br>Van Nuys CA 91112<br>818 111 2345");

//long
localStorage.setItem("ms1", "" + value.toc_mship_contact_full_c);

var strx = value.toc_mship_contact_full_c;
// Let's replace all spaces with ','
//str = str.split(' ').join(',');

strx = strx.split('\n').join('<br>');

localStorage.setItem("ms2", "" + strx);

//fix soon - get from dbase ?
localStorage.setItem("firstname", form.firstname.value);
localStorage.setItem("lastname", form.lastname.value);
localStorage.setItem("cellphone", form.cellphone.value);
localStorage.setItem("driverslicense", form.driverslicense.value);
//extra for later - edit reg 1
localStorage.setItem("socialsecnum", '');

// new temp in 2016 to search new client
//
localStorage.setItem("conum", form.conum.value);

});       

window.location.replace("new-client-search.html");

// real window.location.replace("new-client-application-form-cart1.html");


	}//end if



});

//alert ("success");
}
});
});

</script> 
              <script>
// pre populate
document.myform.conum.value=localStorage.getItem("conum");
document.myform.firstname.value=localStorage.getItem("firstname");
document.myform.lastname.value=localStorage.getItem("lastname");
document.myform.cellphone.value=localStorage.getItem("cellphone");
document.myform.driverslicense.value=localStorage.getItem("driverslicense");
</script>
              <div class="vsp20"></div>
              <div class="vsp20"></div>
            </div>
        <!-- end .box --> 
        
        <!--INSERT END --> 
        
      </div>
          <!-- end .box --> 
        </div>
    <!-- end .content --> 
  </div>
      <!-- /ui-content --> 
      
    </section>
<!-- /page --> 

<!--
no footer on this page needed

<footer data-role="footer" class="ui-barNAH" data-position="fixed" data-theme="a">
<div class="ui-grid-c boxblue">
<?php // include('footer-inc.php'); ?>
</div>
</footer> --> 
<!-- /footer -->

</body>
</html>
